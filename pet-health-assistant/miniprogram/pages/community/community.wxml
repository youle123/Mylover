<!--ç¤¾åŒºé¡µé¢-->
<view class="page">
  <view class="page-header">
    <text class="page-title">å® ç‰©ç¤¾åŒº</text>
    <button class="btn btn-primary btn-small" bindtap="navigateToPost">
      <text class="icon">âœï¸</text>
      å‘å¸–
    </button>
  </view>

  <!-- åˆ†ç±»æ ‡ç­¾ -->
  <view class="category-tabs">
    <view class="tab-item {{activeTab === 'all' ? 'active' : ''}}" bindtap="onTabChange" data-tab="all">
      å…¨éƒ¨
    </view>
    <view class="tab-item {{activeTab === 'health' ? 'active' : ''}}" bindtap="onTabChange" data-tab="health">
      å¥åº·
    </view>
    <view class="tab-item {{activeTab === 'daily' ? 'active' : ''}}" bindtap="onTabChange" data-tab="daily">
      æ—¥å¸¸
    </view>
    <view class="tab-item {{activeTab === 'question' ? 'active' : ''}}" bindtap="onTabChange" data-tab="question">
      æ±‚åŠ©
    </view>
  </view>

  <!-- å¸–å­åˆ—è¡¨ -->
  <view class="posts-list" wx:if="{{posts.length > 0}}">
    <view class="post-item" wx:for="{{posts}}" wx:key="id" bindtap="onPostTap" data-id="{{item.id}}">
      <view class="post-header">
        <image class="author-avatar" src="{{item.author.avatar}}" mode="aspectFill"></image>
        <view class="author-info">
          <text class="author-name">{{item.author.name}}</text>
          <text class="post-time">{{item.createTime}}</text>
        </view>
        <view class="post-category">{{item.category}}</view>
      </view>
      
      <view class="post-content">
        <text class="post-title">{{item.title}}</text>
        <text class="post-text">{{item.content}}</text>
        <view class="post-images" wx:if="{{item.images && item.images.length > 0}}">
          <image wx:for="{{item.images}}" wx:key="*this" src="{{item}}" mode="aspectFill" class="post-image"></image>
        </view>
      </view>
      
      <view class="post-footer">
        <view class="post-stats">
          <text class="stat-item">ğŸ‘ {{item.likes}}</text>
          <text class="stat-item">ğŸ’¬ {{item.comments}}</text>
          <text class="stat-item">ğŸ‘ï¸ {{item.views}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:else>
    <image class="empty-image" src="/images/empty-community.png" mode="aspectFit"></image>
    <text class="empty-title">æš‚æ— å¸–å­</text>
    <text class="empty-desc">æˆä¸ºç¬¬ä¸€ä¸ªåˆ†äº«çš„äºº</text>
    <button class="btn btn-primary" bindtap="navigateToPost">å‘å¸ƒå¸–å­</button>
  </view>
</view>
